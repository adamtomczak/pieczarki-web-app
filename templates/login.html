{% extends "layout.html" %}

{% block script %}
  {% if error["username"] %}
    formError("#username", "#userform", "Wpisz nazwę użytkownika");
  {% endif %}

  {% if error["password"] %}
    formError("#password", "#passwordform", "Wpisz hasło");
  {% endif %}

  {% if error["invalid"] %}
  formError("#username", "#userform");
    formError("#password", "#passwordform", "Niepoprawna nazwa użytkownika lub hasło");
  {% endif %}
{% endblock %}

{% block title %}
    Logowanie
{% endblock %}

{% block header %}
  {% if get_flashed_messages() %}
  <header>
      <div id="flash" class="alert alert-success alert-dismissible fade show mb-0 text-center" role="alert">
          {{ get_flashed_messages() | join(" ") }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
  </header>
  {% endif %}
{% endblock %}

{% block main %}
<div class="flex-column d-flex col-md-6 mx-auto py-5 col-lg-4">
    <form action="/login" method="post" class="p-4 p-md-5 border rounded-3 bg-light">
      <div class="form-floating mb-3" id="userform" >
        <input autocomplete="off" autofocus type="text" class="form-control" id="username" name="username" placeholder="Nazwa użytkownika">
        <label for="username">Nazwa użytkownika</label>
      </div>
      <div class="form-floating mb-3" id="passwordform">
        <input type="password" name="password" class="form-control" id="password" placeholder="Hasło">
        <label for="password">Hasło</label>
      </div>
      <button class="w-100 btn btn-lg btn-primary" type="submit">Zaloguj</button>
    </form>
  </div>
{% endblock %}